# Fossil MCP Server

This is an MCP server that provides access to Fossil wiki pages.

## Building

To build the server, use the Nix dev shell:

```bash
nix develop --command cargo build --release
```

## Running

The server runs as a stdio transport MCP server:

```bash
./target/release/fossil-mcp
```

## Configuration for Claude Desktop

Add this to your Claude Desktop configuration file (`~/Library/Application Support/Claude/claude_desktop_config.json` on macOS):

```json
{
  "mcpServers": {
    "fossil": {
      "command": "/path/to/fossil_mcp/target/release/fossil-mcp",
      "args": [],
      "env": {}
    }
  }
}
```

## Available Tools

### list_wiki_pages
Lists all wiki pages in the current Fossil repository.

**Parameters:** None

**Returns:**
- `pages`: Array of page names
- `count`: Total number of pages

### read_wiki_page
Reads the content of a specific wiki page.

**Parameters:**
- `page_name` (string, required): The name of the wiki page to read

**Returns:**
- `page_name`: The name of the page
- `content`: The raw content of the page

### write_wiki_page
Creates or updates a wiki page.

**Parameters:**
- `page_name` (string, required): The name of the wiki page to create/update
- `content` (string, required): The content to write to the page
- `mimetype` (string, optional): The MIME type of the content. Options:
  - `text/x-fossil-wiki` (default)
  - `text/x-markdown`
  - `text/plain`

**Returns:**
- `success`: Boolean indicating success
- `page_name`: The name of the page
- `message`: Success message

## Requirements

- Fossil must be installed and available in PATH
- Must be run from within a Fossil repository checkout directory
