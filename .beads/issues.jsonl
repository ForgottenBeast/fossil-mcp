{"id":"fossil_mcp-t2i","title":"Debug tool enumeration - MCP server returns empty tools list","description":"MCP server initializes successfully but returns empty tools list when queried via tools/list.\n\nRoot cause: The #[tool_router] macro on FossilWiki impl (src/server.rs:27) and #[tool] attributes on individual methods (list_wiki_pages, read_wiki_page, write_wiki_page) are not properly registering tools with the MCP protocol handler.\n\nCurrent behavior:\n- Server responds to initialize: ✓\n- tools/list returns: {\"tools\":[]} ✗\n- tools/call returns error -32601 (method not found) ✗\n\nUnit tests for individual tool functions all pass, confirming the business logic works correctly. The issue is specifically with MCP tool registration/enumeration using rmcp v0.12.0.\n\nTest command used:\necho '{\"jsonrpc\": \"2.0\", \"method\": \"tools/list\", \"params\": {}, \"id\": 2}' | ./target/release/fossil-mcp -R /tmp/test.fossil","status":"in_progress","priority":2,"issue_type":"bug","owner":"fb@dev.null","created_at":"2026-01-21T18:59:29.59031582+01:00","created_by":"fb","updated_at":"2026-01-21T19:01:29.250370829+01:00"}
